观察数据范围， $n\le 10$ 因此我们可以用十位二进制数来表示 $n$ 盏灯的开关情况。

我们枚举 $n$ 盏灯的状态，遍历 $m$ 种控制效果。设当前状态是 $i$，第 $j$ 种控制之后状态为 $k$，并设 $f_i$ 表示从初始状态到达状态 $i$ 的最小操作次数。
得到转移式 $f_k=\min\limits_{calc(i)=t}\{f_i\}+1$，其中 $calc(i)$ 表示对状态 $i$ 进行第 $j$ 种控制后的状态。

转移时，要判断转移是否可行，即判断控制是否能生效。
